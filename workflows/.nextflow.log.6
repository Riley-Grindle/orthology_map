Feb-01 10:44:33.356 [main] DEBUG nextflow.cli.Launcher - $> nextflow run orthologymap.nf -c /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config -with-tower -profile docker
Feb-01 10:44:33.647 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.04.3
Feb-01 10:44:33.675 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/rgrindle/.nextflow/plugins; core-plugins: nf-amazon@1.16.2,nf-azure@1.0.1,nf-codecommit@0.1.4,nf-console@1.0.5,nf-ga4gh@1.0.5,nf-google@1.7.3,nf-tower@1.5.12,nf-wave@0.8.4
Feb-01 10:44:33.690 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Feb-01 10:44:33.692 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Feb-01 10:44:33.695 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Feb-01 10:44:33.714 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Feb-01 10:44:33.736 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:44:33.742 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:44:33.742 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:44:33.742 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:44:33.772 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:44:34.763 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:44:34.979 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [docker]
Feb-01 10:44:35.024 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Feb-01 10:44:35.050 [main] INFO  nextflow.cli.CmdRun - Launching `orthologymap.nf` [small_archimedes] DSL2 - revision: b099260c06
Feb-01 10:44:35.051 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[nf-amazon@1.16.2]
Feb-01 10:44:35.051 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-amazon@1.16.2, nf-tower@1.5.12]
Feb-01 10:44:35.051 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-amazon version: 1.16.2
Feb-01 10:44:35.079 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-amazon@1.16.2' resolved
Feb-01 10:44:35.080 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-amazon@1.16.2'
Feb-01 10:44:35.115 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-amazon@1.16.2
Feb-01 10:44:35.156 [main] DEBUG nextflow.file.FileHelper - > Added 'S3FileSystemProvider' to list of installed providers [s3]
Feb-01 10:44:35.157 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-tower version: 1.5.12
Feb-01 10:44:35.164 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-tower@1.5.12' resolved
Feb-01 10:44:35.164 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-tower@1.5.12'
Feb-01 10:44:35.186 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-tower@1.5.12
Feb-01 10:44:35.214 [main] DEBUG nextflow.secret.LocalSecretsProvider - Secrets store: /home/rgrindle/.nextflow/secrets/store.json
Feb-01 10:44:35.221 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@54402c04] - activable => nextflow.secret.LocalSecretsProvider@54402c04
Feb-01 10:44:35.334 [main] DEBUG nextflow.Session - Session UUID: 36b433fe-b123-4743-9245-7ddfbde5bea9
Feb-01 10:44:35.334 [main] DEBUG nextflow.Session - Run name: small_archimedes
Feb-01 10:44:35.335 [main] DEBUG nextflow.Session - Executor pool size: 16
Feb-01 10:44:35.352 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Feb-01 10:44:35.363 [main] DEBUG nextflow.Global - Using AWS credentials defined in nextflow config file
Feb-01 10:44:35.365 [main] DEBUG nextflow.file.FileHelper - AWS S3 config details: {secret_key=HDeqVm.., region=us-east-1, max_error_retry=5, access_key=AKIAQF..}
Feb-01 10:44:35.907 [main] DEBUG com.upplication.s3fs.AmazonS3Client - Setting S3 glacierRetrievalTier=null
Feb-01 10:44:35.942 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=48; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Feb-01 10:44:35.948 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:44:35.948 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:44:35.948 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:44:35.949 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:44:35.949 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:44:36.032 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:44:36.095 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [docker]
Feb-01 10:44:36.117 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.04.3 build 5875
  Created: 11-08-2023 18:37 UTC (14:37 EDT)
  System: Linux 4.18.0-372.9.1.el8.x86_64
  Runtime: Groovy 3.0.16 on Java HotSpot(TM) 64-Bit Server VM 17.0.6+9-LTS-190
  Encoding: UTF-8 (UTF-8)
  Process: 4186673@random.mdibl.net [209.222.195.242]
  CPUs: 16 - Mem: 141.4 GB (63.1 GB) - Swap: 32 MB (0)
Feb-01 10:44:36.651 [main] DEBUG nextflow.file.FileHelper - Can't check if specified path is NFS (1): s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test

Feb-01 10:44:36.651 [main] DEBUG nextflow.Session - Work-dir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test [null]
Feb-01 10:44:36.651 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/bin
Feb-01 10:44:36.680 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[AwsBatchExecutor]
Feb-01 10:44:36.695 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Feb-01 10:44:36.698 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Feb-01 10:44:36.802 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Feb-01 10:44:36.822 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 17; maxThreads: 1000
Feb-01 10:44:36.932 [main] DEBUG nextflow.Session - Session start
Feb-01 10:44:36.944 [main] DEBUG io.seqera.tower.plugin.TowerClient - Creating Tower observer -- endpoint=https://api.tower.nf; requestInterval=1s; aliveInterval=1m; maxRetries=5; backOffBase=3; backOffDelay=250
Feb-01 10:44:38.021 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Feb-01 10:44:39.393 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:PREP_INPUT` matches process PREP_INPUT
Feb-01 10:44:39.404 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.405 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.409 [main] DEBUG nextflow.executor.Executor - [warm up] executor > awsbatch
Feb-01 10:44:39.425 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-executor, limiter:RateLimiter[stableRate=50.0qps], poolSize:80, maxPoolSize:80, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Feb-01 10:44:39.435 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-reaper, limiter:RateLimiter[stableRate=50.0qps], poolSize:80, maxPoolSize:80, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Feb-01 10:44:39.436 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - Creating parallel monitor for executor 'awsbatch' > pollInterval=10s; dumpInterval=5m
Feb-01 10:44:39.482 [main] DEBUG nextflow.Global - Using AWS credentials defined in nextflow config file
Feb-01 10:44:39.544 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - [AWS BATCH] Executor options=AwsOptions(cliPath:/home/ec2-user/miniconda/bin/aws, storageClass:null, storageEncryption:null, storageKmsKeyId:null, remoteBinDir:null, region:us-east-1, maxParallelTransfers:4, maxTransferAttempts:5, delayBetweenAttempts:10s, retryMode:standard, maxSpotAttempts:5, debug:null, fetchInstanceType:true, jobRole:null, logsGroup:null, volumes:[], shareIdentifier:null, schedulingPriority:0, s3Acl:null, awsCli:/home/ec2-user/miniconda/bin/aws --region us-east-1)
Feb-01 10:44:39.659 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:ORTHOFINDER` matches process ORTHOFINDER
Feb-01 10:44:39.661 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.661 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.690 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:EGGNOGMAPPER` matches process EGGNOGMAPPER
Feb-01 10:44:39.691 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.691 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.705 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:TREEGRAFTER` matches process TREEGRAFTER
Feb-01 10:44:39.707 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.707 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.719 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:ORTHOLOGER` matches process ORTHOLOGER
Feb-01 10:44:39.720 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.721 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.759 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:PANTHER_API` matches process PANTHER_API
Feb-01 10:44:39.760 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.760 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.773 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.773 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.778 [main] WARN  nextflow.extension.OperatorImpl - The operator `first` is useless when applied to a value channel which returns a single value by definition
Feb-01 10:44:39.784 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.784 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.792 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:POST_PROC` matches process POST_PROC
Feb-01 10:44:39.793 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.793 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.969 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:44:39.969 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:44:39.974 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: PREP_INPUT, PANTHER_API, ORTHOLOGER, TREEGRAFTER, ORTHOFINDER, PULL_AWS, TRANSDECODER_LONGORF, POST_PROC, CUSTOM_DUMPSOFTWAREVERSIONS, COLLECT_CHUNKS, EGGNOGMAPPER, STAGE_OUTS
Feb-01 10:44:40.209 [main] INFO  io.seqera.tower.plugin.TowerClient - Monitor the execution with Nextflow Tower using this URL: https://tower.nf/user/rgrindle/watch/4RvOXNxm0sA2rY
Feb-01 10:44:40.212 [main] DEBUG nextflow.Session - Igniting dataflow network (13)
Feb-01 10:44:40.219 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PREP_INPUT
Feb-01 10:44:40.220 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > ORTHOFINDER
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > EGGNOGMAPPER
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > TREEGRAFTER
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > ORTHOLOGER
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANTHER_API
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > COLLECT_CHUNKS
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAGE_OUTS
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > POST_PROC
Feb-01 10:44:40.221 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > CUSTOM_DUMPSOFTWAREVERSIONS
Feb-01 10:44:40.221 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Feb-01 10:44:40.221 [main] DEBUG nextflow.Session - Session await
Feb-01 10:44:40.269 [Actor Thread 13] DEBUG nextflow.file.SortFileCollector - FileCollector temp dir not removed: null
Feb-01 10:44:41.126 [AWSBatch-executor-1] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-biocontainers-python-3-9--1:3; container=quay.io/biocontainers/python:3.9--1
Feb-01 10:44:41.233 [AWSBatch-executor-1] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=6768c8bf-bfcf-47ba-b356-7bc5dd32c805; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/56/b50a5b4f65189dfb0c89ca74bf5467
Feb-01 10:44:41.233 [AWSBatch-executor-1] INFO  nextflow.Session - [56/b50a5b] Submitted process > PREP_INPUT (Staging input fastas for aws_test processes)
Feb-01 10:46:09.697 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 1; name: PREP_INPUT (Staging input fastas for aws_test processes); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/56/b50a5b4f65189dfb0c89ca74bf5467]
Feb-01 10:46:10.520 [AWSBatch-executor-11] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-rgrindle-eggnogg-mapper:1; container=quay.io/rgrindle/eggnogg-mapper
Feb-01 10:46:10.598 [AWSBatch-executor-12] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-rgrindle-orthofinder:1; container=quay.io/rgrindle/orthofinder
Feb-01 10:46:10.688 [AWSBatch-executor-11] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=02f34b5a-3d5b-4e17-b9a2-246f15037a49; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/44/82898944ac23b6f17425eb6938b3e5
Feb-01 10:46:10.689 [AWSBatch-executor-11] INFO  nextflow.Session - [44/828989] Submitted process > EGGNOGMAPPER (Eggnogging aws_test using: shorter.fasta)
Feb-01 10:46:10.728 [AWSBatch-executor-12] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=36a80099-425e-436d-bfb3-eba1e550ab27; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/76/61585c4033103f7ffcd4400e1e0fa8
Feb-01 10:46:10.728 [AWSBatch-executor-12] INFO  nextflow.Session - [76/61585c] Submitted process > ORTHOFINDER (Orthofinding aws_test)
Feb-01 10:46:10.743 [AWSBatch-executor-13] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-rgrindle-orthologer:1; container=quay.io/rgrindle/orthologer
Feb-01 10:46:10.828 [AWSBatch-executor-13] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=6dd5ed68-1617-45de-89df-acc4bc726a2e; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/ff/be7930c7d7ade9211b9d2ac46fd3b2
Feb-01 10:46:10.828 [AWSBatch-executor-13] INFO  nextflow.Session - [ff/be7930] Submitted process > ORTHOLOGER (Logging aws_test)
Feb-01 10:46:10.833 [AWSBatch-executor-14] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-rgrindle-treegrafter:1; container=quay.io/rgrindle/treegrafter
Feb-01 10:46:10.923 [AWSBatch-executor-14] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=b4eb2b7c-4111-47c9-8b28-0516c87e443d; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/98/d0475d93e87c788eb0b6cad6228124
Feb-01 10:46:10.924 [AWSBatch-executor-14] INFO  nextflow.Session - [98/d0475d] Submitted process > TREEGRAFTER (Grafting aws_test using: shorter.fasta)
Feb-01 10:47:29.705 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 5; name: ORTHOLOGER (Logging aws_test); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/ff/be7930c7d7ade9211b9d2ac46fd3b2]
Feb-01 10:49:49.457 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor awsbatch > tasks to be completed: 3 -- submitted tasks are shown below
~> TaskHandler[id: 3; name: EGGNOGMAPPER (Eggnogging aws_test using: shorter.fasta); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/44/82898944ac23b6f17425eb6938b3e5]
~> TaskHandler[id: 4; name: ORTHOFINDER (Orthofinding aws_test); status: RUNNING; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/76/61585c4033103f7ffcd4400e1e0fa8]
~> TaskHandler[id: 2; name: TREEGRAFTER (Grafting aws_test using: shorter.fasta); status: RUNNING; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/98/d0475d93e87c788eb0b6cad6228124]
Feb-01 10:50:29.719 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 4; name: ORTHOFINDER (Orthofinding aws_test); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/76/61585c4033103f7ffcd4400e1e0fa8]
Feb-01 10:53:59.705 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 2; name: TREEGRAFTER (Grafting aws_test using: shorter.fasta); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/98/d0475d93e87c788eb0b6cad6228124]
Feb-01 10:54:00.130 [Actor Thread 10] DEBUG n.splitter.AbstractTextSplitter - Splitter `Text` collector path: nextflow.splitter.TextFileCollector$CachePath(/mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/93/a1b9d831030e484cb60e5b268460f5/chunk.out, null)
Feb-01 10:54:00.672 [AWSBatch-executor-62] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-rgrindle-panther_api_sf:2; container=quay.io/rgrindle/panther_api_sf
Feb-01 10:54:00.772 [AWSBatch-executor-62] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=e87cc495-933b-4096-8ad8-584f9eea13d3; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/e6/5a2f7039ac53133c699baa47f6d020
Feb-01 10:54:00.772 [AWSBatch-executor-62] INFO  nextflow.Session - [e6/5a2f70] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:00.893 [AWSBatch-executor-63] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=03bc6c55-a2d7-492e-a4b5-f3efaae1d70c; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/1d/13d64fc36880cb923d852ae99b14ed
Feb-01 10:54:00.894 [AWSBatch-executor-63] INFO  nextflow.Session - [1d/13d64f] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:01.006 [AWSBatch-executor-64] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=f77caa56-13e2-40e8-b7a3-7d2f53ca8cfd; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/f2/940f3c6a7e63aa449570c8db1bc377
Feb-01 10:54:01.006 [AWSBatch-executor-64] INFO  nextflow.Session - [f2/940f3c] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:01.098 [AWSBatch-executor-65] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=a720bc53-0ed2-497c-a4c8-d2d57f77ac05; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/21/86a0536e91e30ba4288641a26a8f01
Feb-01 10:54:01.098 [AWSBatch-executor-65] INFO  nextflow.Session - [21/86a053] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:01.158 [AWSBatch-executor-66] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=d979c3ae-c91f-43e2-aa53-244cddb48bf2; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/bb/fe5b1c5ca86a061014620fbd71c809
Feb-01 10:54:01.158 [AWSBatch-executor-66] INFO  nextflow.Session - [bb/fe5b1c] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:01.229 [AWSBatch-executor-67] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=e18429cd-b7da-44af-8b8d-dda3e70a6927; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/99/0e1ee55dc682e102749240da38b2ec
Feb-01 10:54:01.229 [AWSBatch-executor-67] INFO  nextflow.Session - [99/0e1ee5] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:01.280 [AWSBatch-executor-68] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=09a401d2-9561-45e8-896b-e90e734b2ba7; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/9f/a11a17f9f7c2b0a93c859a14c8a817
Feb-01 10:54:01.281 [AWSBatch-executor-68] INFO  nextflow.Session - [9f/a11a17] Submitted process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:54:49.483 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor awsbatch > tasks to be completed: 8 -- submitted tasks are shown below
~> TaskHandler[id: 3; name: EGGNOGMAPPER (Eggnogging aws_test using: shorter.fasta); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/44/82898944ac23b6f17425eb6938b3e5]
~> TaskHandler[id: 6; name: PANTHER_API (Pulling gene ids from PantherDB); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/e6/5a2f7039ac53133c699baa47f6d020]
~> TaskHandler[id: 7; name: PANTHER_API (Pulling gene ids from PantherDB); status: RUNNING; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/1d/13d64fc36880cb923d852ae99b14ed]
~> TaskHandler[id: 8; name: PANTHER_API (Pulling gene ids from PantherDB); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/f2/940f3c6a7e63aa449570c8db1bc377]
~> TaskHandler[id: 10; name: PANTHER_API (Pulling gene ids from PantherDB); status: RUNNING; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/21/86a0536e91e30ba4288641a26a8f01]
~> TaskHandler[id: 9; name: PANTHER_API (Pulling gene ids from PantherDB); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/bb/fe5b1c5ca86a061014620fbd71c809]
~> TaskHandler[id: 12; name: PANTHER_API (Pulling gene ids from PantherDB); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/99/0e1ee55dc682e102749240da38b2ec]
~> TaskHandler[id: 11; name: PANTHER_API (Pulling gene ids from PantherDB); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/9f/a11a17f9f7c2b0a93c859a14c8a817]
Feb-01 10:54:49.723 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 10; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/21/86a0536e91e30ba4288641a26a8f01]
Feb-01 10:54:59.723 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 7; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/1d/13d64fc36880cb923d852ae99b14ed]
Feb-01 10:55:49.746 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 6; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/e6/5a2f7039ac53133c699baa47f6d020]
Feb-01 10:55:49.915 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 8; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/f2/940f3c6a7e63aa449570c8db1bc377]
Feb-01 10:56:00.012 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 12; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/99/0e1ee55dc682e102749240da38b2ec]
Feb-01 10:56:19.720 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 11; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/9f/a11a17f9f7c2b0a93c859a14c8a817]
Feb-01 10:56:39.759 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 9; name: PANTHER_API (Pulling gene ids from PantherDB); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/bb/fe5b1c5ca86a061014620fbd71c809]
Feb-01 10:56:40.671 [AWSBatch-executor-85] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=897715f3-fb19-4d88-8f96-90e2cfa29ffc; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/0d/92d4ea84588abaacbba94c4921090c
Feb-01 10:56:40.671 [AWSBatch-executor-85] INFO  nextflow.Session - [0d/92d4ea] Submitted process > COLLECT_CHUNKS (Combining Outputs)
Feb-01 10:58:09.765 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 13; name: COLLECT_CHUNKS (Combining Outputs); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/0d/92d4ea84588abaacbba94c4921090c]
Feb-01 10:58:39.683 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 3; name: EGGNOGMAPPER (Eggnogging aws_test using: shorter.fasta); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/44/82898944ac23b6f17425eb6938b3e5]
Feb-01 10:58:40.554 [AWSBatch-executor-98] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=e3f92b99-f88e-4c40-abc3-e2a91bc8a234; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/54/252c2ff51d2016f3aed21e990a2426
Feb-01 10:58:40.554 [AWSBatch-executor-98] INFO  nextflow.Session - [54/252c2f] Submitted process > STAGE_OUTS (Staging orthology tool outputs...)
Feb-01 10:59:29.737 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 14; name: STAGE_OUTS (Staging orthology tool outputs...); status: COMPLETED; exit: 0; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/54/252c2ff51d2016f3aed21e990a2426]
Feb-01 10:59:30.511 [AWSBatch-executor-104] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] [AWS BATCH] Found job definition name=nf-quay-io-rgrindle-post_proc:4; container=quay.io/rgrindle/post_proc
Feb-01 10:59:30.602 [AWSBatch-executor-104] DEBUG n.c.aws.batch.AwsBatchTaskHandler - [AWS BATCH] submitted > job=8c9c1592-4fcc-4db6-8a84-719a0e03c389; work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/82/7937ea8111d4ca31e7b33a5ce09470
Feb-01 10:59:30.603 [AWSBatch-executor-104] INFO  nextflow.Session - [82/7937ea] Submitted process > POST_PROC (Processing orthology tool outputs...)
Feb-01 10:59:49.494 [Task monitor] DEBUG n.processor.TaskPollingMonitor - !! executor awsbatch > tasks to be completed: 1 -- submitted tasks are shown below
~> TaskHandler[id: 15; name: POST_PROC (Processing orthology tool outputs...); status: SUBMITTED; exit: -; error: -; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/82/7937ea8111d4ca31e7b33a5ce09470]
Feb-01 11:00:19.857 [Task monitor] DEBUG n.processor.TaskPollingMonitor - Task completed > TaskHandler[id: 15; name: POST_PROC (Processing orthology tool outputs...); status: COMPLETED; exit: 1; error: nextflow.exception.ProcessUnrecoverableException: Essential container in task exited; workDir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/82/7937ea8111d4ca31e7b33a5ce09470]
Feb-01 11:00:19.860 [Task monitor] DEBUG nextflow.processor.TaskProcessor - Handling unexpected condition for
  task: name=POST_PROC (Processing orthology tool outputs...); work-dir=s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/82/7937ea8111d4ca31e7b33a5ce09470
  error [nextflow.exception.ProcessFailedException]: Process `POST_PROC (Processing orthology tool outputs...)` failed
Feb-01 11:00:20.185 [Task monitor] ERROR nextflow.processor.TaskProcessor - Error executing process > 'POST_PROC (Processing orthology tool outputs...)'

Caused by:
  Essential container in task exited

Command executed:

  FILE=shorter.fasta
  PREFIX="$(echo "$FILE" | cut -d. -f1)"
  Rscript /rscripts/ortho_f_post.R ./outs/ortho_f/*/Orthologues/Orthologues_${PREFIX}
  Rscript /rscripts/ortho_l_post.R ./outs/ortho_l/ "${PREFIX}"
  Rscript /rscripts/eggnog_post.R ./outs/egg
  Rscript /rscripts/tree_post.R ./outs/tree
  mkdir /headers
  for file in ./odbdata/*; do
      FILE_NAME="$(basename "$file")"; filename_no_extension="${FILE_NAME%.*}_headers.txt"
      grep ">" "$file" | grep -o '^[^[:space:]]*' > "/headers/"$filename_no_extension""
  done
  Rscript /rscripts/hexadecimal_correction.R ./odbdata /headers/ ./
  mkdir std_outs
  mv *std.csv std_outs/

Command exit status:
  1

Command output:
  [1] "20"
  [1] "20"
  [1] "1"
  [1] "1"
  [1] "1"
  [1] "18"
  [1] "18"
  [1] "18"
  [1] "109"
  [1] "109"
  [1] "27"
  [1] "27"
  [1] "25"
  [1] "25"
  [1] "69"
  [1] "69"
  [1] "22"
  [1] "22"
  [1] "183"
  [1] "183"
  [1] "180"
  [1] "180"
  [1] "56"
  [1] "56"
  [1] "5"
  [1] "5"
  [1] "16"
  [1] "16"
  [1] "35"
  [1] "35"
  [1] "19"
  [1] "19"
  [1] "0"
  [1] "0"
  [1] "9"
  [1] "9"
  [1] "302"
  [1] "303"
  [1] "106"
  [1] "301"
  [1] "300"
  [1] "295"
  [1] "97"
  [1] "239"
  [1] "64"
  [1] "61"
  [1] "245"
  [1] "242"
  [1] "253"
  [1] "31"

Command error:
  (more omitted..)
  [1] "109"
  [1] "27"
  [1] "27"
  [1] "25"
  [1] "25"
  [1] "69"
  [1] "69"
  [1] "22"
  [1] "22"
  [1] "183"
  [1] "183"
  [1] "180"
  [1] "180"
  [1] "56"
  [1] "56"
  [1] "5"
  [1] "5"
  [1] "16"
  [1] "16"
  [1] "35"
  [1] "35"
  [1] "19"
  [1] "19"
  [1] "0"
  [1] "0"
  [1] "9"
  [1] "9"
  [1] "302"
  [1] "303"
  [1] "106"
  [1] "301"
  [1] "300"
  [1] "295"
  [1] "97"
  [1] "239"
  [1] "64"
  [1] "61"
  [1] "245"
  [1] "242"
  [1] "253"
  [1] "31"
  Warning message:
  In write.csv(new_table, file = "./ortho_l_std.csv", col.names = TRUE,  :
    attempt to set 'col.names' ignored
  Warning message:
  In write.csv(new_table, file = "./eggnog_std.csv", col.names = TRUE,  :
    attempt to set 'col.names' ignored
  Error in if (substr(raw_table[i + 1, 1], 1, 7) == "gene_id") { : 
    missing value where TRUE/FALSE needed
  Execution halted

Work dir:
  s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/82/7937ea8111d4ca31e7b33a5ce09470

Tip: you can replicate the issue by changing to the process work dir and entering the command `bash .command.run`
Feb-01 11:00:20.187 [main] DEBUG nextflow.Session - Session await > all processes finished
Feb-01 11:00:20.227 [Task monitor] DEBUG nextflow.Session - Session aborted -- Cause: Process `POST_PROC (Processing orthology tool outputs...)` failed
Feb-01 11:00:20.243 [main] DEBUG nextflow.Session - Session await > all barriers passed
Feb-01 11:00:20.248 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=14; failedCount=1; ignoredCount=0; cachedCount=0; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=1h 21m 51s; failedDuration=2m 2s; cachedDuration=0ms;loadCpus=0; loadMemory=0; peakRunning=4; peakCpus=30; peakMemory=140 GB; ]
Feb-01 11:00:20.653 [main] WARN  i.s.tower.plugin.TowerJsonGenerator - Tower request field `workflow.errorMessage` exceeds expected size | offending value: `(more omitted..)
[1] "109"
[1] "27"
[1] "27"
[1] "25"
[1] "25"
[1] "69"
[1] "69"
[1] "22"
[1] "22"
[1] "183"
[1] "183"
[1] "180"
[1] "180"
[1] "56"
[1] "56"
[1] "5"
[1] "5"
[1] "16"
[1] "16"
[1] "35"
[1] "35"
[1] "19"
[1] "19"
[1] "0"
[1] "0"
[1] "9"
[1] "9"
[1] "302"
[1] "303"
[1] "106"
[1] "301"
[1] "300"
[1] "295"
[1] "97"
[1] "239"
[1] "64"
[1] "61"
[1] "245"
[1] "242"
[1] "253"
[1] "31"
Warning message:
In write.csv(new_table, file = "./ortho_l_std.csv", col.names = TRUE,  :
  attempt to set 'col.names' ignored
Warning message:
In write.csv(new_table, file = "./eggnog_std.csv", col.names = TRUE,  :
  attempt to set 'col.names' ignored
Error in if (substr(raw_table[i + 1, 1], 1, 7) == "gene_id") { : 
  missing value where TRUE/FALSE needed
Execution halted`, size: 770 (max: 255)
Feb-01 11:00:21.025 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Feb-01 11:00:21.025 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-tower@1.5.12'
Feb-01 11:00:21.025 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-tower
Feb-01 11:00:21.025 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-amazon@1.16.2'
Feb-01 11:00:21.025 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-amazon
Feb-01 11:00:21.067 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
