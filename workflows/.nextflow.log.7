Feb-01 10:40:42.202 [main] DEBUG nextflow.cli.Launcher - $> nextflow run orthologymap.nf -c /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config -with-tower -profile docker -resume
Feb-01 10:40:42.516 [main] INFO  nextflow.cli.CmdRun - N E X T F L O W  ~  version 23.04.3
Feb-01 10:40:42.548 [main] DEBUG nextflow.plugin.PluginsFacade - Setting up plugin manager > mode=prod; embedded=false; plugins-dir=/home/rgrindle/.nextflow/plugins; core-plugins: nf-amazon@1.16.2,nf-azure@1.0.1,nf-codecommit@0.1.4,nf-console@1.0.5,nf-ga4gh@1.0.5,nf-google@1.7.3,nf-tower@1.5.12,nf-wave@0.8.4
Feb-01 10:40:42.565 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Enabled plugins: []
Feb-01 10:40:42.566 [main] INFO  org.pf4j.DefaultPluginStatusProvider - Disabled plugins: []
Feb-01 10:40:42.571 [main] INFO  org.pf4j.DefaultPluginManager - PF4J version 3.4.1 in 'deployment' mode
Feb-01 10:40:42.588 [main] INFO  org.pf4j.AbstractPluginManager - No plugins
Feb-01 10:40:42.614 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:40:42.618 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:40:42.619 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:40:42.619 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:40:42.657 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:40:43.696 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:40:43.900 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [docker]
Feb-01 10:40:43.956 [main] DEBUG nextflow.cli.CmdRun - Applied DSL=2 by global default
Feb-01 10:40:43.990 [main] INFO  nextflow.cli.CmdRun - Launching `orthologymap.nf` [astonishing_mestorf] DSL2 - revision: b099260c06
Feb-01 10:40:43.992 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins default=[nf-amazon@1.16.2]
Feb-01 10:40:43.993 [main] DEBUG nextflow.plugin.PluginsFacade - Plugins resolved requirement=[nf-amazon@1.16.2, nf-tower@1.5.12]
Feb-01 10:40:43.993 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-amazon version: 1.16.2
Feb-01 10:40:44.021 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-amazon@1.16.2' resolved
Feb-01 10:40:44.021 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-amazon@1.16.2'
Feb-01 10:40:44.050 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-amazon@1.16.2
Feb-01 10:40:44.082 [main] DEBUG nextflow.file.FileHelper - > Added 'S3FileSystemProvider' to list of installed providers [s3]
Feb-01 10:40:44.083 [main] DEBUG nextflow.plugin.PluginUpdater - Installing plugin nf-tower version: 1.5.12
Feb-01 10:40:44.090 [main] INFO  org.pf4j.AbstractPluginManager - Plugin 'nf-tower@1.5.12' resolved
Feb-01 10:40:44.090 [main] INFO  org.pf4j.AbstractPluginManager - Start plugin 'nf-tower@1.5.12'
Feb-01 10:40:44.106 [main] DEBUG nextflow.plugin.BasePlugin - Plugin started nf-tower@1.5.12
Feb-01 10:40:44.133 [main] DEBUG nextflow.secret.LocalSecretsProvider - Secrets store: /home/rgrindle/.nextflow/secrets/store.json
Feb-01 10:40:44.139 [main] DEBUG nextflow.secret.SecretsLoader - Discovered secrets providers: [nextflow.secret.LocalSecretsProvider@3f1a4795] - activable => nextflow.secret.LocalSecretsProvider@3f1a4795
Feb-01 10:40:44.239 [main] DEBUG nextflow.Session - Session UUID: 5cdfef24-2107-4e01-bb39-2e754cddfa64
Feb-01 10:40:44.239 [main] DEBUG nextflow.Session - Run name: astonishing_mestorf
Feb-01 10:40:44.240 [main] DEBUG nextflow.Session - Executor pool size: 16
Feb-01 10:40:44.259 [main] DEBUG nextflow.file.FileHelper - Creating a file system instance for provider: S3FileSystemProvider
Feb-01 10:40:44.270 [main] DEBUG nextflow.Global - Using AWS credentials defined in nextflow config file
Feb-01 10:40:44.271 [main] DEBUG nextflow.file.FileHelper - AWS S3 config details: {secret_key=HDeqVm.., region=us-east-1, max_error_retry=5, access_key=AKIAQF..}
Feb-01 10:40:44.858 [main] DEBUG com.upplication.s3fs.AmazonS3Client - Setting S3 glacierRetrievalTier=null
Feb-01 10:40:44.897 [main] DEBUG nextflow.util.ThreadPoolBuilder - Creating thread pool 'FileTransfer' minSize=10; maxSize=48; workQueue=LinkedBlockingQueue[10000]; allowCoreThreadTimeout=false
Feb-01 10:40:44.904 [main] DEBUG nextflow.config.ConfigBuilder - Found config local: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:40:44.904 [main] DEBUG nextflow.config.ConfigBuilder - User config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:40:44.904 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/nextflow.config
Feb-01 10:40:44.905 [main] DEBUG nextflow.config.ConfigBuilder - Parsing config file: /home/rgrindle/ortho_prediction/test_cloud_configs/batch.config
Feb-01 10:40:44.905 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:40:45.001 [main] DEBUG nextflow.config.ConfigBuilder - Applying config profile: `docker`
Feb-01 10:40:45.079 [main] DEBUG nextflow.config.ConfigBuilder - Available config profiles: [docker]
Feb-01 10:40:45.108 [main] DEBUG nextflow.cli.CmdRun - 
  Version: 23.04.3 build 5875
  Created: 11-08-2023 18:37 UTC (14:37 EDT)
  System: Linux 4.18.0-372.9.1.el8.x86_64
  Runtime: Groovy 3.0.16 on Java HotSpot(TM) 64-Bit Server VM 17.0.6+9-LTS-190
  Encoding: UTF-8 (UTF-8)
  Process: 4186466@random.mdibl.net [209.222.195.242]
  CPUs: 16 - Mem: 141.4 GB (63.1 GB) - Swap: 32 MB (0)
Feb-01 10:40:45.687 [main] DEBUG nextflow.file.FileHelper - Can't check if specified path is NFS (1): s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test

Feb-01 10:40:45.687 [main] DEBUG nextflow.Session - Work-dir: s3://mdibl-rgrindle/orthology_pipe/work_dirs/batch_test [null]
Feb-01 10:40:45.687 [main] DEBUG nextflow.Session - Script base path does not exist or is not a directory: /compbio/scratch/rgrindle/Ortho_Pipeline/orthologymap/workflows/bin
Feb-01 10:40:45.717 [main] DEBUG nextflow.executor.ExecutorFactory - Extension executors providers=[AwsBatchExecutor]
Feb-01 10:40:45.732 [main] DEBUG nextflow.Session - Observer factory: DefaultObserverFactory
Feb-01 10:40:45.735 [main] DEBUG nextflow.Session - Observer factory: TowerFactory
Feb-01 10:40:45.839 [main] DEBUG nextflow.cache.CacheFactory - Using Nextflow cache factory: nextflow.cache.DefaultCacheFactory
Feb-01 10:40:45.851 [main] DEBUG nextflow.util.CustomThreadPool - Creating default thread pool > poolSize: 17; maxThreads: 1000
Feb-01 10:40:45.996 [main] DEBUG nextflow.Session - Session start
Feb-01 10:40:46.007 [main] DEBUG io.seqera.tower.plugin.TowerClient - Creating Tower observer -- endpoint=https://api.tower.nf; requestInterval=1s; aliveInterval=1m; maxRetries=5; backOffBase=3; backOffDelay=250
Feb-01 10:40:46.899 [main] DEBUG nextflow.script.ScriptRunner - > Launching execution
Feb-01 10:40:48.326 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:PREP_INPUT` matches process PREP_INPUT
Feb-01 10:40:48.337 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.337 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.341 [main] DEBUG nextflow.executor.Executor - [warm up] executor > awsbatch
Feb-01 10:40:48.355 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-executor, limiter:RateLimiter[stableRate=50.0qps], poolSize:80, maxPoolSize:80, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Feb-01 10:40:48.363 [main] DEBUG nextflow.util.ThrottlingExecutor - Creating throttling executor with opts: nextflow.util.ThrottlingExecutor$Options(poolName:AWSBatch-reaper, limiter:RateLimiter[stableRate=50.0qps], poolSize:80, maxPoolSize:80, queueSize:5000, maxRetries:10, keepAlive:1m, autoThrottle:true, errorBurstDelay:1s, rampUpInterval:100, rampUpFactor:1.2, rampUpMaxRate:1.7976931348623157E308, backOffFactor:2.0, backOffMinRate:0.0166666667, retryDelay:1s)
Feb-01 10:40:48.364 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - Creating parallel monitor for executor 'awsbatch' > pollInterval=10s; dumpInterval=5m
Feb-01 10:40:48.405 [main] DEBUG nextflow.Global - Using AWS credentials defined in nextflow config file
Feb-01 10:40:48.463 [main] DEBUG n.cloud.aws.batch.AwsBatchExecutor - [AWS BATCH] Executor options=AwsOptions(cliPath:/home/ec2-user/miniconda/bin/aws, storageClass:null, storageEncryption:null, storageKmsKeyId:null, remoteBinDir:null, region:us-east-1, maxParallelTransfers:4, maxTransferAttempts:5, delayBetweenAttempts:10s, retryMode:standard, maxSpotAttempts:5, debug:null, fetchInstanceType:true, jobRole:null, logsGroup:null, volumes:[], shareIdentifier:null, schedulingPriority:0, s3Acl:null, awsCli:/home/ec2-user/miniconda/bin/aws --region us-east-1)
Feb-01 10:40:48.618 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:ORTHOFINDER` matches process ORTHOFINDER
Feb-01 10:40:48.620 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.621 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.658 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:EGGNOGMAPPER` matches process EGGNOGMAPPER
Feb-01 10:40:48.661 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.661 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.678 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:TREEGRAFTER` matches process TREEGRAFTER
Feb-01 10:40:48.681 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.681 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.692 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:ORTHOLOGER` matches process ORTHOLOGER
Feb-01 10:40:48.694 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.694 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.725 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:PANTHER_API` matches process PANTHER_API
Feb-01 10:40:48.726 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.726 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.736 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.736 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.740 [main] WARN  nextflow.extension.OperatorImpl - The operator `first` is useless when applied to a value channel which returns a single value by definition
Feb-01 10:40:48.746 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.746 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.753 [main] DEBUG nextflow.script.ProcessConfig - Config settings `withName:POST_PROC` matches process POST_PROC
Feb-01 10:40:48.754 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.754 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.907 [main] DEBUG nextflow.executor.ExecutorFactory - << taskConfig executor: awsbatch
Feb-01 10:40:48.907 [main] DEBUG nextflow.executor.ExecutorFactory - >> processorType: 'awsbatch'
Feb-01 10:40:48.911 [main] DEBUG nextflow.Session - Workflow process names [dsl2]: PREP_INPUT, PANTHER_API, ORTHOLOGER, TREEGRAFTER, ORTHOFINDER, TRANSDECODER_LONGORF, PULL_AWS, POST_PROC, CUSTOM_DUMPSOFTWAREVERSIONS, COLLECT_CHUNKS, EGGNOGMAPPER, STAGE_OUTS
Feb-01 10:40:49.148 [main] INFO  io.seqera.tower.plugin.TowerClient - Monitor the execution with Nextflow Tower using this URL: https://tower.nf/user/rgrindle/watch/sI1Qcglhhp6iE
Feb-01 10:40:49.151 [main] DEBUG nextflow.Session - Igniting dataflow network (13)
Feb-01 10:40:49.162 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PREP_INPUT
Feb-01 10:40:49.162 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > ORTHOFINDER
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > EGGNOGMAPPER
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > TREEGRAFTER
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > ORTHOLOGER
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > PANTHER_API
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > COLLECT_CHUNKS
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > STAGE_OUTS
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > POST_PROC
Feb-01 10:40:49.163 [main] DEBUG nextflow.processor.TaskProcessor - Starting process > CUSTOM_DUMPSOFTWAREVERSIONS
Feb-01 10:40:49.163 [main] DEBUG nextflow.script.ScriptRunner - > Awaiting termination 
Feb-01 10:40:49.163 [main] DEBUG nextflow.Session - Session await
Feb-01 10:40:49.204 [Actor Thread 16] DEBUG nextflow.file.SortFileCollector - FileCollector temp dir not removed: null
Feb-01 10:40:49.752 [Actor Thread 8] INFO  nextflow.processor.TaskProcessor - [30/1f5103] Cached process > PREP_INPUT (Staging input fastas for aws_test processes)
Feb-01 10:40:50.097 [Actor Thread 6] INFO  nextflow.processor.TaskProcessor - [cd/323f03] Cached process > EGGNOGMAPPER (Eggnogging aws_test using: shorter.fasta)
Feb-01 10:40:50.227 [Actor Thread 9] INFO  nextflow.processor.TaskProcessor - [cd/9ee48a] Cached process > ORTHOLOGER (Logging aws_test)
Feb-01 10:40:50.463 [Actor Thread 7] INFO  nextflow.processor.TaskProcessor - [7c/f289cc] Cached process > TREEGRAFTER (Grafting aws_test using: shorter.fasta)
Feb-01 10:40:50.560 [Actor Thread 17] DEBUG n.splitter.AbstractTextSplitter - Splitter `Text` collector path: nextflow.splitter.TextFileCollector$CachePath(/mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/9a/902d28ec3308bbb5cd14a71fe6cc36/chunk.out, null)
Feb-01 10:40:50.622 [Actor Thread 17] DEBUG nextflow.splitter.AbstractSplitter - Operator `Text` reusing cached chunks at path: /mdibl-rgrindle/orthology_pipe/work_dirs/batch_test/9a/902d28ec3308bbb5cd14a71fe6cc36/chunk.out
Feb-01 10:40:50.667 [Actor Thread 15] INFO  nextflow.processor.TaskProcessor - [48/224ef5] Cached process > ORTHOFINDER (Orthofinding aws_test)
Feb-01 10:40:50.848 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [96/95f473] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:50.856 [Actor Thread 8] INFO  nextflow.processor.TaskProcessor - [fa/3b34df] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:50.885 [Actor Thread 14] INFO  nextflow.processor.TaskProcessor - [06/44df61] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:50.932 [Actor Thread 7] INFO  nextflow.processor.TaskProcessor - [51/509894] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:50.932 [Actor Thread 16] INFO  nextflow.processor.TaskProcessor - [a0/e2a4d0] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:50.938 [Actor Thread 9] INFO  nextflow.processor.TaskProcessor - [df/2236f9] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:50.941 [Actor Thread 6] INFO  nextflow.processor.TaskProcessor - [74/b9be2b] Cached process > PANTHER_API (Pulling gene ids from PantherDB)
Feb-01 10:40:51.337 [Actor Thread 12] INFO  nextflow.processor.TaskProcessor - [77/9a3fa1] Cached process > COLLECT_CHUNKS (Combining Outputs)
Feb-01 10:40:51.741 [Actor Thread 9] INFO  nextflow.processor.TaskProcessor - [e0/dd8591] Cached process > STAGE_OUTS (Staging orthology tool outputs...)
Feb-01 10:40:52.000 [Actor Thread 11] INFO  nextflow.processor.TaskProcessor - [48/9f72be] Cached process > POST_PROC (Processing orthology tool outputs...)
Feb-01 10:40:52.002 [main] DEBUG nextflow.Session - Session await > all processes finished
Feb-01 10:40:58.379 [main] DEBUG nextflow.Session - Session await > all barriers passed
Feb-01 10:40:58.388 [main] DEBUG nextflow.trace.WorkflowStatsObserver - Workflow completed > WorkflowStats[succeededCount=0; failedCount=0; ignoredCount=0; cachedCount=15; pendingCount=0; submittedCount=0; runningCount=0; retriesCount=0; abortedCount=0; succeedDuration=0ms; failedDuration=0ms; cachedDuration=11h 59m 9s;loadCpus=0; loadMemory=0; peakRunning=0; peakCpus=0; peakMemory=0; ]
Feb-01 10:40:58.962 [main] DEBUG nextflow.cache.CacheDB - Closing CacheDB done
Feb-01 10:40:58.962 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-tower@1.5.12'
Feb-01 10:40:58.963 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-tower
Feb-01 10:40:58.963 [main] INFO  org.pf4j.AbstractPluginManager - Stop plugin 'nf-amazon@1.16.2'
Feb-01 10:40:58.963 [main] DEBUG nextflow.plugin.BasePlugin - Plugin stopped nf-amazon
Feb-01 10:40:59.001 [main] DEBUG nextflow.util.ThreadPoolManager - Thread pool 'FileTransfer' shutdown completed (hard=false)
Feb-01 10:40:59.002 [main] DEBUG nextflow.script.ScriptRunner - > Execution complete -- Goodbye
